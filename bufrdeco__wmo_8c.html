<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bufr2synop: src/bufrdeco/bufrdeco_wmo.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bufr2synop<span id="projectnumber">&#160;0.24.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ada5990eeaadba62f904a1aaf3c6d89c.html">bufrdeco</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">bufrdeco_wmo.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file has the code to read bufr files from WMO csv files.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bufrdeco_8h_source.html">bufrdeco.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bufrdeco_wmo.c:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c__incl.png" border="0" usemap="#asrc_2bufrdeco_2bufrdeco__wmo_8c" alt=""/></div>
<map name="asrc_2bufrdeco_2bufrdeco__wmo_8c" id="asrc_2bufrdeco_2bufrdeco__wmo_8c">
<area shape="rect" title="This file has the code to read bufr files from WMO csv files." alt="" coords="273,5,421,45"/>
<area shape="rect" href="bufrdeco_8h.html" title="Include header file for bufrdeco library." alt="" coords="305,93,388,119"/>
<area shape="rect" title=" " alt="" coords="5,167,67,192"/>
<area shape="rect" title=" " alt="" coords="91,167,155,192"/>
<area shape="rect" title=" " alt="" coords="179,167,245,192"/>
<area shape="rect" title=" " alt="" coords="269,167,334,192"/>
<area shape="rect" title=" " alt="" coords="359,167,428,192"/>
<area shape="rect" title=" " alt="" coords="452,167,511,192"/>
<area shape="rect" title=" " alt="" coords="535,167,598,192"/>
<area shape="rect" title=" " alt="" coords="623,167,703,192"/>
</map>
</div>
</div>
<p><a href="bufrdeco__wmo_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8581ce4806d095d950244b72411ad66d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#a8581ce4806d095d950244b72411ad66d">get_wmo_tablenames</a> (struct <a class="el" href="structbufrdeco.html">bufrdeco</a> *b)</td></tr>
<tr class="memdesc:a8581ce4806d095d950244b72411ad66d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the complete pathnames for WMO csv table files needed by a bufr message.  <a href="bufrdeco__wmo_8c.html#a8581ce4806d095d950244b72411ad66d">More...</a><br /></td></tr>
<tr class="separator:a8581ce4806d095d950244b72411ad66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690c1bdb0a65ccaa1391f64ea8df2fc6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#a690c1bdb0a65ccaa1391f64ea8df2fc6">bufr_read_tables</a> (struct <a class="el" href="structbufrdeco.html">bufrdeco</a> *b)</td></tr>
<tr class="memdesc:a690c1bdb0a65ccaa1391f64ea8df2fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the tables according with bufr file data from a bufr table directory.  <a href="bufrdeco__wmo_8c.html#a690c1bdb0a65ccaa1391f64ea8df2fc6">More...</a><br /></td></tr>
<tr class="separator:a690c1bdb0a65ccaa1391f64ea8df2fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6f68130c76bab155e074c2e98273ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#a9a6f68130c76bab155e074c2e98273ce">bufrdeco_store_tables</a> (struct <a class="el" href="structbufr__tables.html">bufr_tables</a> **t, struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> *c, uint8_t ver)</td></tr>
<tr class="memdesc:a9a6f68130c76bab155e074c2e98273ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init an element of array c-&gt;tab[] if still not allocated. If allocated clean it and set *t pointing to this element.  <a href="bufrdeco__wmo_8c.html#a9a6f68130c76bab155e074c2e98273ce">More...</a><br /></td></tr>
<tr class="separator:a9a6f68130c76bab155e074c2e98273ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe10abf7cfd44a4d185e37915856e98"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#acbe10abf7cfd44a4d185e37915856e98">bufrdeco_cache_tables_search</a> (struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> *c, uint8_t ver)</td></tr>
<tr class="memdesc:acbe10abf7cfd44a4d185e37915856e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search a struct <a class="el" href="structbufr__tables.html">bufr_tables</a> in <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a>.  <a href="bufrdeco__wmo_8c.html#acbe10abf7cfd44a4d185e37915856e98">More...</a><br /></td></tr>
<tr class="separator:acbe10abf7cfd44a4d185e37915856e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554ec62c68ff48925248a2fa4a919b3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#a554ec62c68ff48925248a2fa4a919b3f">bufrdeco_free_cache_tables</a> (struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> *c)</td></tr>
<tr class="memdesc:a554ec62c68ff48925248a2fa4a919b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">deallocate and clean a <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a>  <a href="bufrdeco__wmo_8c.html#a554ec62c68ff48925248a2fa4a919b3f">More...</a><br /></td></tr>
<tr class="separator:a554ec62c68ff48925248a2fa4a919b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa41a183ce5c743d70b096ac76877611c"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#aa41a183ce5c743d70b096ac76877611c">DEFAULT_BUFRTABLES_WMO_CSV_DIR1</a> [] = &quot;/usr/local/share/bufr2synop/&quot;</td></tr>
<tr class="separator:aa41a183ce5c743d70b096ac76877611c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f9aa302b69b25a6c1581c6249b3832"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bufrdeco__wmo_8c.html#a22f9aa302b69b25a6c1581c6249b3832">DEFAULT_BUFRTABLES_WMO_CSV_DIR2</a> [] = &quot;/usr/share/bufr2synop/&quot;</td></tr>
<tr class="separator:a22f9aa302b69b25a6c1581c6249b3832"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file has the code to read bufr files from WMO csv files. </p>

<p class="definition">Definition in file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a690c1bdb0a65ccaa1391f64ea8df2fc6" name="a690c1bdb0a65ccaa1391f64ea8df2fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690c1bdb0a65ccaa1391f64ea8df2fc6">&#9670;&#160;</a></span>bufr_read_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufr_read_tables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufrdeco.html">bufrdeco</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the tables according with bufr file data from a bufr table directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>basic struct with needed data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if success return 0, otherwise 1</dd></dl>
<p>The default directories where to search bufr tables are stored in <a class="el" href="bufrdeco_8h.html#aa41a183ce5c743d70b096ac76877611c">DEFAULT_BUFRTABLES_WMO_CSV_DIR1</a> and <a class="el" href="bufrdeco_8h.html#a22f9aa302b69b25a6c1581c6249b3832">DEFAULT_BUFRTABLES_WMO_CSV_DIR2</a> </p>

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00162">162</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>{</div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordtype">int</span> index;</div>
<div class="line"><span class="lineno">  165</span>  <a class="code hl_typedef" href="bufrdeco_8h.html#a099b48da0db8498c21d1d3a10cef8f89">buf_t</a> i;</div>
<div class="line"><span class="lineno">  166</span>  <a class="code hl_define" href="bufrdeco_8h.html#a142902ec0ad75f8ae60946f7e3065f42">bufrdeco_assert</a> ( b != NULL );</div>
<div class="line"><span class="lineno">  167</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structbufr__tableB.html">bufr_tableB</a> *tb;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>  <span class="keywordflow">if</span> ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#a22b38bbd630adc6a582ad2861c1f7787">mask</a> &amp; <a class="code hl_define" href="bufrdeco_8h.html#a95f0a41e4b897318b31febc5090ab997">BUFRDECO_USE_TABLES_CACHE</a> )</div>
<div class="line"><span class="lineno">  170</span>    {</div>
<div class="line"><span class="lineno">  171</span>      <span class="comment">// When using cache, member b-&gt;tables is actually a pointer in array b-&gt;cache.tab[]</span></div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>      <span class="keywordflow">if</span> ( ( index = <a class="code hl_function" href="bufrdeco__wmo_8c.html#acbe10abf7cfd44a4d185e37915856e98">bufrdeco_cache_tables_search</a> ( &amp; ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#a7b905518741b6fb16e8387c66e42a60e">cache</a> ), b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> ) ) &gt;= 0 )</div>
<div class="line"><span class="lineno">  174</span>        {</div>
<div class="line"><span class="lineno">  175</span><span class="preprocessor">#ifdef __DEBUG</span></div>
<div class="line"><span class="lineno">  176</span>          printf ( <span class="stringliteral">&quot;# Found tables in cache for version %u index %d\n&quot;</span>, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a>, index );</div>
<div class="line"><span class="lineno">  177</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  178</span>          <span class="comment">// hit cache, then the only task is to change member b-&gt;tables, and restore original values from item im tableB</span></div>
<div class="line"><span class="lineno">  179</span>          b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a> = b-&gt;<a class="code hl_variable" href="structbufrdeco.html#a7b905518741b6fb16e8387c66e42a60e">cache</a>.<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[index];</div>
<div class="line"><span class="lineno">  180</span>          tb = &amp; ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a> );</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>          <span class="keywordflow">for</span> ( i = 0; i &lt; tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a60842f74b8c7b6d3733089eacaa6bb59">nlines</a> ; i++ )</div>
<div class="line"><span class="lineno">  183</span>            {</div>
<div class="line"><span class="lineno">  184</span>              tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#a3cdde033c258cf355750834f559292b1">scale</a> = tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#a0537a55488bf2fdf4e55dcd4bf4a4330">scale_ori</a>;</div>
<div class="line"><span class="lineno">  185</span>              tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#a5fd82668045d4590ec48ea27e1d054c2">reference</a> = tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#ad37b8751bc756c53b374c3b3eec0546d">reference_ori</a>;</div>
<div class="line"><span class="lineno">  186</span>              tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#ad78340234420f0b1da60bbc99ad43952">nbits</a> = tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#ae66c51edcb8242b5171737b3dd7412b4">nbits_ori</a>;</div>
<div class="line"><span class="lineno">  187</span>              tb-&gt;<a class="code hl_variable" href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">item</a>[i].<a class="code hl_variable" href="structbufr__tableB__decoded__item.html#ae508088fc2147e31a09feff2f1f04b66">changed</a> = 0;</div>
<div class="line"><span class="lineno">  188</span>            }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>          <span class="comment">// all done</span></div>
<div class="line"><span class="lineno">  191</span>          <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  192</span>        }</div>
<div class="line"><span class="lineno">  193</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  194</span>        {</div>
<div class="line"><span class="lineno">  195</span><span class="preprocessor">#ifdef __DEBUG</span></div>
<div class="line"><span class="lineno">  196</span>          printf ( <span class="stringliteral">&quot;# Tables for version %u not found in cache. Stored in index %d\n&quot;</span>, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a>, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#a7b905518741b6fb16e8387c66e42a60e">cache</a>.<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a> );</div>
<div class="line"><span class="lineno">  197</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  198</span>          <span class="comment">// If not in cache, the new master version tables has to be stored. This implies that</span></div>
<div class="line"><span class="lineno">  199</span>          <a class="code hl_function" href="bufrdeco__wmo_8c.html#a9a6f68130c76bab155e074c2e98273ce">bufrdeco_store_tables</a> ( &amp; ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a> ), &amp; ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#a7b905518741b6fb16e8387c66e42a60e">cache</a> ), b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>          <span class="comment">// get tablenames</span></div>
<div class="line"><span class="lineno">  202</span>          <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco__wmo_8c.html#a8581ce4806d095d950244b72411ad66d">get_wmo_tablenames</a> ( b ) )</div>
<div class="line"><span class="lineno">  203</span>            {</div>
<div class="line"><span class="lineno">  204</span>              snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">error</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">error</a> ),<span class="stringliteral">&quot;%s(): Cannot find bufr tables\n&quot;</span>, __func__ );</div>
<div class="line"><span class="lineno">  205</span>              <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  206</span>            }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>          <span class="comment">// Missed cache</span></div>
<div class="line"><span class="lineno">  209</span>          <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco_8h.html#ae1e363f8ede994991842fe230e327918">bufr_read_tableB</a> ( b ) )</div>
<div class="line"><span class="lineno">  210</span>            {</div>
<div class="line"><span class="lineno">  211</span>              <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  212</span>            }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>          <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco_8h.html#a225eb080f58ab76ab10872400140dc03">bufr_read_tableC</a> ( b ) )</div>
<div class="line"><span class="lineno">  215</span>            {</div>
<div class="line"><span class="lineno">  216</span>              <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  217</span>            }</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>          <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco_8h.html#a48da10ad04b938f7d0385e83aabf75f8">bufr_read_tableD</a> ( b ) )</div>
<div class="line"><span class="lineno">  220</span>            {</div>
<div class="line"><span class="lineno">  221</span>              <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  222</span>            }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        }</div>
<div class="line"><span class="lineno">  225</span>    }</div>
<div class="line"><span class="lineno">  226</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  227</span>    {</div>
<div class="line"><span class="lineno">  228</span>      <span class="comment">// If tables still not initialized then do it</span></div>
<div class="line"><span class="lineno">  229</span>      <span class="keywordflow">if</span> ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a> == NULL &amp;&amp; <a class="code hl_function" href="bufrdeco_8h.html#a0576a87972353fb9e7a569fa1f905e03">bufrdeco_init_tables</a> ( &amp; ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a> ) ) )</div>
<div class="line"><span class="lineno">  230</span>        {</div>
<div class="line"><span class="lineno">  231</span>          snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">error</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">error</a> ), <span class="stringliteral">&quot;%s(): Cannot allocate memory for tables\n&quot;</span>, __func__ );</div>
<div class="line"><span class="lineno">  232</span>          <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span>      <span class="comment">// get tablenames</span></div>
<div class="line"><span class="lineno">  235</span>      <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco__wmo_8c.html#a8581ce4806d095d950244b72411ad66d">get_wmo_tablenames</a> ( b ) )</div>
<div class="line"><span class="lineno">  236</span>        {</div>
<div class="line"><span class="lineno">  237</span>          snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">error</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">error</a> ),<span class="stringliteral">&quot;%s(): Cannot find bufr tables\n&quot;</span>, __func__ );</div>
<div class="line"><span class="lineno">  238</span>          <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>      <span class="comment">// And now read tables</span></div>
<div class="line"><span class="lineno">  242</span>      <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco_8h.html#ae1e363f8ede994991842fe230e327918">bufr_read_tableB</a> ( b ) )</div>
<div class="line"><span class="lineno">  243</span>        {</div>
<div class="line"><span class="lineno">  244</span>          <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  245</span>        }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>      <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco_8h.html#a225eb080f58ab76ab10872400140dc03">bufr_read_tableC</a> ( b ) )</div>
<div class="line"><span class="lineno">  248</span>        {</div>
<div class="line"><span class="lineno">  249</span>          <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  250</span>        }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>      <span class="keywordflow">if</span> ( <a class="code hl_function" href="bufrdeco_8h.html#a48da10ad04b938f7d0385e83aabf75f8">bufr_read_tableD</a> ( b ) )</div>
<div class="line"><span class="lineno">  253</span>        {</div>
<div class="line"><span class="lineno">  254</span>          <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  255</span>        }</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="line"><span class="lineno">  257</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="abufrdeco_8h_html_a0576a87972353fb9e7a569fa1f905e03"><div class="ttname"><a href="bufrdeco_8h.html#a0576a87972353fb9e7a569fa1f905e03">bufrdeco_init_tables</a></div><div class="ttdeci">int bufrdeco_init_tables(struct bufr_tables **t)</div><div class="ttdoc">Init a struct bufr_tables allocating space.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__memory_8c_source.html#l00032">bufrdeco_memory.c:32</a></div></div>
<div class="ttc" id="abufrdeco_8h_html_a099b48da0db8498c21d1d3a10cef8f89"><div class="ttname"><a href="bufrdeco_8h.html#a099b48da0db8498c21d1d3a10cef8f89">buf_t</a></div><div class="ttdeci">uint32_t buf_t</div><div class="ttdoc">Type to set offsets and dimension of arrays or counters used in bufrdeco.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00346">bufrdeco.h:346</a></div></div>
<div class="ttc" id="abufrdeco_8h_html_a142902ec0ad75f8ae60946f7e3065f42"><div class="ttname"><a href="bufrdeco_8h.html#a142902ec0ad75f8ae60946f7e3065f42">bufrdeco_assert</a></div><div class="ttdeci">#define bufrdeco_assert(__my_expr__)</div><div class="ttdoc">Check a expression and exit if it fails.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00374">bufrdeco.h:374</a></div></div>
<div class="ttc" id="abufrdeco_8h_html_a225eb080f58ab76ab10872400140dc03"><div class="ttname"><a href="bufrdeco_8h.html#a225eb080f58ab76ab10872400140dc03">bufr_read_tableC</a></div><div class="ttdeci">int bufr_read_tableC(struct bufrdeco *b)</div><div class="ttdoc">Reads a file with table C content (Code table and bit flags) according with csv WMO format.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__tableC_8c_source.html#l00033">bufrdeco_tableC.c:33</a></div></div>
<div class="ttc" id="abufrdeco_8h_html_a48da10ad04b938f7d0385e83aabf75f8"><div class="ttname"><a href="bufrdeco_8h.html#a48da10ad04b938f7d0385e83aabf75f8">bufr_read_tableD</a></div><div class="ttdeci">int bufr_read_tableD(struct bufrdeco *b)</div><div class="ttdoc">Reads a file with table D content according with WMO csv format.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__tableD_8c_source.html#l00032">bufrdeco_tableD.c:32</a></div></div>
<div class="ttc" id="abufrdeco_8h_html_a95f0a41e4b897318b31febc5090ab997"><div class="ttname"><a href="bufrdeco_8h.html#a95f0a41e4b897318b31febc5090ab997">BUFRDECO_USE_TABLES_CACHE</a></div><div class="ttdeci">#define BUFRDECO_USE_TABLES_CACHE</div><div class="ttdoc">Bit mask to the member mask of struct bufrdeco to mark the use of bufr_tables cache.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00268">bufrdeco.h:268</a></div></div>
<div class="ttc" id="abufrdeco_8h_html_ae1e363f8ede994991842fe230e327918"><div class="ttname"><a href="bufrdeco_8h.html#ae1e363f8ede994991842fe230e327918">bufr_read_tableB</a></div><div class="ttdeci">int bufr_read_tableB(struct bufrdeco *b)</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__tableB_8c_source.html#l00042">bufrdeco_tableB.c:42</a></div></div>
<div class="ttc" id="abufrdeco__wmo_8c_html_a8581ce4806d095d950244b72411ad66d"><div class="ttname"><a href="bufrdeco__wmo_8c.html#a8581ce4806d095d950244b72411ad66d">get_wmo_tablenames</a></div><div class="ttdeci">int get_wmo_tablenames(struct bufrdeco *b)</div><div class="ttdoc">Get the complete pathnames for WMO csv table files needed by a bufr message.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__wmo_8c_source.html#l00047">bufrdeco_wmo.c:47</a></div></div>
<div class="ttc" id="abufrdeco__wmo_8c_html_a9a6f68130c76bab155e074c2e98273ce"><div class="ttname"><a href="bufrdeco__wmo_8c.html#a9a6f68130c76bab155e074c2e98273ce">bufrdeco_store_tables</a></div><div class="ttdeci">int bufrdeco_store_tables(struct bufr_tables **t, struct bufr_tables_cache *c, uint8_t ver)</div><div class="ttdoc">Init an element of array c-&gt;tab[] if still not allocated. If allocated clean it and set *t pointing t...</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__wmo_8c_source.html#l00269">bufrdeco_wmo.c:269</a></div></div>
<div class="ttc" id="abufrdeco__wmo_8c_html_acbe10abf7cfd44a4d185e37915856e98"><div class="ttname"><a href="bufrdeco__wmo_8c.html#acbe10abf7cfd44a4d185e37915856e98">bufrdeco_cache_tables_search</a></div><div class="ttdeci">int bufrdeco_cache_tables_search(struct bufr_tables_cache *c, uint8_t ver)</div><div class="ttdoc">Search a struct bufr_tables in bufr_tables_cache.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__wmo_8c_source.html#l00304">bufrdeco_wmo.c:304</a></div></div>
<div class="ttc" id="astructbufr__sec1_html_aa38d7bbeb038ad10fa20441ada9bfdaa"><div class="ttname"><a href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">bufr_sec1::master_version</a></div><div class="ttdeci">uint8_t master_version</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00782">bufrdeco.h:782</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_a0537a55488bf2fdf4e55dcd4bf4a4330"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#a0537a55488bf2fdf4e55dcd4bf4a4330">bufr_tableB_decoded_item::scale_ori</a></div><div class="ttdeci">int32_t scale_ori</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00845">bufrdeco.h:845</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_a3cdde033c258cf355750834f559292b1"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#a3cdde033c258cf355750834f559292b1">bufr_tableB_decoded_item::scale</a></div><div class="ttdeci">int32_t scale</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00844">bufrdeco.h:844</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_a5fd82668045d4590ec48ea27e1d054c2"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#a5fd82668045d4590ec48ea27e1d054c2">bufr_tableB_decoded_item::reference</a></div><div class="ttdeci">int32_t reference</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00846">bufrdeco.h:846</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_ad37b8751bc756c53b374c3b3eec0546d"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#ad37b8751bc756c53b374c3b3eec0546d">bufr_tableB_decoded_item::reference_ori</a></div><div class="ttdeci">int32_t reference_ori</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00847">bufrdeco.h:847</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_ad78340234420f0b1da60bbc99ad43952"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#ad78340234420f0b1da60bbc99ad43952">bufr_tableB_decoded_item::nbits</a></div><div class="ttdeci">buf_t nbits</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00848">bufrdeco.h:848</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_ae508088fc2147e31a09feff2f1f04b66"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#ae508088fc2147e31a09feff2f1f04b66">bufr_tableB_decoded_item::changed</a></div><div class="ttdeci">uint8_t changed</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00837">bufrdeco.h:837</a></div></div>
<div class="ttc" id="astructbufr__tableB__decoded__item_html_ae66c51edcb8242b5171737b3dd7412b4"><div class="ttname"><a href="structbufr__tableB__decoded__item.html#ae66c51edcb8242b5171737b3dd7412b4">bufr_tableB_decoded_item::nbits_ori</a></div><div class="ttdeci">buf_t nbits_ori</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00849">bufrdeco.h:849</a></div></div>
<div class="ttc" id="astructbufr__tableB_html"><div class="ttname"><a href="structbufr__tableB.html">bufr_tableB</a></div><div class="ttdoc">Store a table B readed from a file formated and named as ECMWF bufrdc package.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00858">bufrdeco.h:859</a></div></div>
<div class="ttc" id="astructbufr__tableB_html_a40288c583095a206a1e1459b537d005c"><div class="ttname"><a href="structbufr__tableB.html#a40288c583095a206a1e1459b537d005c">bufr_tableB::item</a></div><div class="ttdeci">struct bufr_tableB_decoded_item item[BUFR_MAXLINES_TABLEB]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00867">bufrdeco.h:867</a></div></div>
<div class="ttc" id="astructbufr__tableB_html_a60842f74b8c7b6d3733089eacaa6bb59"><div class="ttname"><a href="structbufr__tableB.html#a60842f74b8c7b6d3733089eacaa6bb59">bufr_tableB::nlines</a></div><div class="ttdeci">buf_t nlines</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00863">bufrdeco.h:863</a></div></div>
<div class="ttc" id="astructbufr__tables__cache_html_a73973822a081c4a093aba594287314b3"><div class="ttname"><a href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">bufr_tables_cache::tab</a></div><div class="ttdeci">struct bufr_tables * tab[BUFRDECO_TABLES_CACHE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00955">bufrdeco.h:955</a></div></div>
<div class="ttc" id="astructbufr__tables__cache_html_acfad5a10753e341590d337d372a6d4e8"><div class="ttname"><a href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">bufr_tables_cache::next</a></div><div class="ttdeci">buf_t next</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00953">bufrdeco.h:953</a></div></div>
<div class="ttc" id="astructbufr__tables_html_a802b87d22571cb777fcb448f25f5b623"><div class="ttname"><a href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">bufr_tables::b</a></div><div class="ttdeci">struct bufr_tableB b</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00939">bufrdeco.h:939</a></div></div>
<div class="ttc" id="astructbufrdeco_html_a22b38bbd630adc6a582ad2861c1f7787"><div class="ttname"><a href="structbufrdeco.html#a22b38bbd630adc6a582ad2861c1f7787">bufrdeco::mask</a></div><div class="ttdeci">uint32_t mask</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00966">bufrdeco.h:966</a></div></div>
<div class="ttc" id="astructbufrdeco_html_a7b905518741b6fb16e8387c66e42a60e"><div class="ttname"><a href="structbufrdeco.html#a7b905518741b6fb16e8387c66e42a60e">bufrdeco::cache</a></div><div class="ttdeci">struct bufr_tables_cache cache</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00974">bufrdeco.h:974</a></div></div>
<div class="ttc" id="astructbufrdeco_html_ab14126b70642ce84fde7d0fbe37662da"><div class="ttname"><a href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">bufrdeco::tables</a></div><div class="ttdeci">struct bufr_tables * tables</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00973">bufrdeco.h:973</a></div></div>
<div class="ttc" id="astructbufrdeco_html_ae34e327b324693e4e50477945c1e22aa"><div class="ttname"><a href="structbufrdeco.html#ae34e327b324693e4e50477945c1e22aa">bufrdeco::error</a></div><div class="ttdeci">char error[1024]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00983">bufrdeco.h:983</a></div></div>
<div class="ttc" id="astructbufrdeco_html_af2d68974365e46b75886745133b7103f"><div class="ttname"><a href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">bufrdeco::sec1</a></div><div class="ttdeci">struct bufr_sec1 sec1</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00969">bufrdeco.h:969</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufrdeco_8h_source.html#l00939">bufr_tables::b</a>, <a class="el" href="bufrdeco__tableB_8c_source.html#l00042">bufr_read_tableB()</a>, <a class="el" href="bufrdeco__tableC_8c_source.html#l00033">bufr_read_tableC()</a>, <a class="el" href="bufrdeco__tableD_8c_source.html#l00032">bufr_read_tableD()</a>, <a class="el" href="bufrdeco_8h_source.html#l00374">bufrdeco_assert</a>, <a class="el" href="bufrdeco__wmo_8c_source.html#l00304">bufrdeco_cache_tables_search()</a>, <a class="el" href="bufrdeco__memory_8c_source.html#l00032">bufrdeco_init_tables()</a>, <a class="el" href="bufrdeco__wmo_8c_source.html#l00269">bufrdeco_store_tables()</a>, <a class="el" href="bufrdeco_8h_source.html#l00268">BUFRDECO_USE_TABLES_CACHE</a>, <a class="el" href="bufrdeco_8h_source.html#l00974">bufrdeco::cache</a>, <a class="el" href="bufrdeco_8h_source.html#l00837">bufr_tableB_decoded_item::changed</a>, <a class="el" href="bufrdeco_8h_source.html#l00983">bufrdeco::error</a>, <a class="el" href="bufrdeco__wmo_8c_source.html#l00047">get_wmo_tablenames()</a>, <a class="el" href="bufrdeco_8h_source.html#l00867">bufr_tableB::item</a>, <a class="el" href="bufrdeco_8h_source.html#l00966">bufrdeco::mask</a>, <a class="el" href="bufrdeco_8h_source.html#l00782">bufr_sec1::master_version</a>, <a class="el" href="bufrdeco_8h_source.html#l00848">bufr_tableB_decoded_item::nbits</a>, <a class="el" href="bufrdeco_8h_source.html#l00849">bufr_tableB_decoded_item::nbits_ori</a>, <a class="el" href="bufrdeco_8h_source.html#l00953">bufr_tables_cache::next</a>, <a class="el" href="bufrdeco_8h_source.html#l00863">bufr_tableB::nlines</a>, <a class="el" href="bufrdeco_8h_source.html#l00846">bufr_tableB_decoded_item::reference</a>, <a class="el" href="bufrdeco_8h_source.html#l00847">bufr_tableB_decoded_item::reference_ori</a>, <a class="el" href="bufrdeco_8h_source.html#l00844">bufr_tableB_decoded_item::scale</a>, <a class="el" href="bufrdeco_8h_source.html#l00845">bufr_tableB_decoded_item::scale_ori</a>, <a class="el" href="bufrdeco_8h_source.html#l00969">bufrdeco::sec1</a>, <a class="el" href="bufrdeco_8h_source.html#l00955">bufr_tables_cache::tab</a>, and <a class="el" href="bufrdeco_8h_source.html#l00973">bufrdeco::tables</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco__read_8c_source.html#l00225">bufrdeco_read_buffer()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_cgraph.png" border="0" usemap="#abufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_cgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_cgraph" id="abufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_cgraph">
<area shape="rect" title="Read the tables according with bufr file data from a bufr table directory." alt="" coords="5,161,124,187"/>
<area shape="rect" href="bufrdeco__tableB_8c.html#ae1e363f8ede994991842fe230e327918" title=" " alt="" coords="190,5,310,31"/>
<area shape="rect" href="bufrdeco__tableC_8c.html#a225eb080f58ab76ab10872400140dc03" title="Reads a file with table C content (Code table and bit flags) according with csv WMO format." alt="" coords="189,55,311,80"/>
<area shape="rect" href="bufrdeco__tableD_8c.html#a48da10ad04b938f7d0385e83aabf75f8" title="Reads a file with table D content according with WMO csv format." alt="" coords="189,104,311,129"/>
<area shape="rect" href="bufrdeco__wmo_8c.html#acbe10abf7cfd44a4d185e37915856e98" title="Search a struct bufr_tables in bufr_tables_cache." alt="" coords="172,154,328,194"/>
<area shape="rect" href="bufrdeco__memory_8c.html#a0576a87972353fb9e7a569fa1f905e03" title="Init a struct bufr_tables allocating space." alt="" coords="382,244,521,269"/>
<area shape="rect" href="bufrdeco__wmo_8c.html#a9a6f68130c76bab155e074c2e98273ce" title="Init an element of array c&#45;&gt;tab[] if still not allocated. If allocated clean it and set *t pointing t..." alt="" coords="175,219,325,244"/>
<area shape="rect" href="bufrdeco__wmo_8c.html#a8581ce4806d095d950244b72411ad66d" title="Get the complete pathnames for WMO csv table files needed by a bufr message." alt="" coords="175,320,325,345"/>
<area shape="rect" href="bufrdeco__csv_8c.html#a9685dcec12aa968d7146aa55965dda5e" title="Parse a csv line." alt="" coords="397,80,506,105"/>
<area shape="rect" href="bufrdeco__utils_8c.html#a21db34de4334426d1c212ffdabee02cb" title="parse an integer with a descriptor fom bufr ECWMF libary" alt="" coords="376,31,527,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_icgraph.png" border="0" usemap="#abufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_icgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_icgraph" id="abufrdeco__wmo_8c_a690c1bdb0a65ccaa1391f64ea8df2fc6_icgraph">
<area shape="rect" title="Read the tables according with bufr file data from a bufr table directory." alt="" coords="568,31,687,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#a42b3789e2ddabf25f894e78f59897268" title=" " alt="" coords="376,31,520,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#ad44753d6491d1785ed3fe38af6557da6" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_file()" alt="" coords="180,5,328,31"/>
<area shape="rect" href="bufrdeco__read_8c.html#ae3cfc6802c196511223adc0a6324e4af" title="Read bufr file and does preliminary and first decode pass." alt="" coords="187,55,321,80"/>
<area shape="rect" href="bufrdeco_8c.html#a429725844ceb27af702275748a444f2b" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_bufr()" alt="" coords="5,5,132,31"/>
<area shape="rect" href="apps_2bufrdeco__json_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="43,55,94,80"/>
</map>
</div>

</div>
</div>
<a id="acbe10abf7cfd44a4d185e37915856e98" name="acbe10abf7cfd44a4d185e37915856e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe10abf7cfd44a4d185e37915856e98">&#9670;&#160;</a></span>bufrdeco_cache_tables_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufrdeco_cache_tables_search </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search a struct <a class="el" href="structbufr__tables.html">bufr_tables</a> in <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>pointer to the struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> where to search </td></tr>
    <tr><td class="paramname">ver</td><td>small int with the master version acting as a key in the seardch</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of found struct. If no struct found returns -1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00304">304</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  305</span>{</div>
<div class="line"><span class="lineno">  306</span>  <a class="code hl_typedef" href="bufrdeco_8h.html#a099b48da0db8498c21d1d3a10cef8f89">buf_t</a> i = 0;</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordflow">for</span> ( i = 0; i &lt; <a class="code hl_define" href="bufrdeco_8h.html#a352c602cbe6ee66306075eef0ecd9863">BUFRDECO_TABLES_CACHE_SIZE</a> ; i++ )</div>
<div class="line"><span class="lineno">  309</span>    {</div>
<div class="line"><span class="lineno">  310</span>      <span class="keywordflow">if</span> ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a04e1bec8b3f50a89b2f8eb0ab0027e1e">ver</a>[i] == ver )</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">return</span> i; <span class="comment">// found</span></div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span>  <span class="keywordflow">return</span> -1; <span class="comment">// Not found</span></div>
<div class="line"><span class="lineno">  314</span>}</div>
<div class="ttc" id="abufrdeco_8h_html_a352c602cbe6ee66306075eef0ecd9863"><div class="ttname"><a href="bufrdeco_8h.html#a352c602cbe6ee66306075eef0ecd9863">BUFRDECO_TABLES_CACHE_SIZE</a></div><div class="ttdeci">#define BUFRDECO_TABLES_CACHE_SIZE</div><div class="ttdoc">Max number of structs bufr_tables in a bufr_tables_cache.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00341">bufrdeco.h:341</a></div></div>
<div class="ttc" id="astructbufr__tables__cache_html_a04e1bec8b3f50a89b2f8eb0ab0027e1e"><div class="ttname"><a href="structbufr__tables__cache.html#a04e1bec8b3f50a89b2f8eb0ab0027e1e">bufr_tables_cache::ver</a></div><div class="ttdeci">int8_t ver[BUFRDECO_TABLES_CACHE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00954">bufrdeco.h:954</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufrdeco_8h_source.html#l00341">BUFRDECO_TABLES_CACHE_SIZE</a>, and <a class="el" href="bufrdeco_8h_source.html#l00954">bufr_tables_cache::ver</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco__wmo_8c_source.html#l00162">bufr_read_tables()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_acbe10abf7cfd44a4d185e37915856e98_icgraph.png" border="0" usemap="#abufrdeco__wmo_8c_acbe10abf7cfd44a4d185e37915856e98_icgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_acbe10abf7cfd44a4d185e37915856e98_icgraph" id="abufrdeco__wmo_8c_acbe10abf7cfd44a4d185e37915856e98_icgraph">
<area shape="rect" title="Search a struct bufr_tables in bufr_tables_cache." alt="" coords="735,23,891,63"/>
<area shape="rect" href="bufrdeco__wmo_8c.html#a690c1bdb0a65ccaa1391f64ea8df2fc6" title="Read the tables according with bufr file data from a bufr table directory." alt="" coords="568,31,687,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#a42b3789e2ddabf25f894e78f59897268" title=" " alt="" coords="376,31,520,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#ad44753d6491d1785ed3fe38af6557da6" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_file()" alt="" coords="180,5,328,31"/>
<area shape="rect" href="bufrdeco__read_8c.html#ae3cfc6802c196511223adc0a6324e4af" title="Read bufr file and does preliminary and first decode pass." alt="" coords="187,55,321,80"/>
<area shape="rect" href="bufrdeco_8c.html#a429725844ceb27af702275748a444f2b" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_bufr()" alt="" coords="5,5,132,31"/>
<area shape="rect" href="apps_2bufrdeco__json_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="43,55,94,80"/>
</map>
</div>

</div>
</div>
<a id="a554ec62c68ff48925248a2fa4a919b3f" name="a554ec62c68ff48925248a2fa4a919b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554ec62c68ff48925248a2fa4a919b3f">&#9670;&#160;</a></span>bufrdeco_free_cache_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufrdeco_free_cache_tables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deallocate and clean a <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>pointer to the struct to clean </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd></dl>

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00322">322</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  323</span>{</div>
<div class="line"><span class="lineno">  324</span>  <a class="code hl_typedef" href="bufrdeco_8h.html#a099b48da0db8498c21d1d3a10cef8f89">buf_t</a>  i;</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>  <span class="keywordflow">for</span> ( i = 0; i &lt; <a class="code hl_define" href="bufrdeco_8h.html#a352c602cbe6ee66306075eef0ecd9863">BUFRDECO_TABLES_CACHE_SIZE</a>; i++ )</div>
<div class="line"><span class="lineno">  327</span>    {</div>
<div class="line"><span class="lineno">  328</span>      <span class="keywordflow">if</span> ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[i] )</div>
<div class="line"><span class="lineno">  329</span>        {</div>
<div class="line"><span class="lineno">  330</span>          free ( ( <span class="keywordtype">void</span> * ) c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[i] );</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span>  <span class="comment">// then clean</span></div>
<div class="line"><span class="lineno">  334</span>  memset ( c, 0, <span class="keyword">sizeof</span> ( <span class="keyword">struct</span> <a class="code hl_struct" href="structbufr__tables__cache.html">bufr_tables_cache</a> ) );</div>
<div class="line"><span class="lineno">  335</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  336</span>}</div>
<div class="ttc" id="astructbufr__tables__cache_html"><div class="ttname"><a href="structbufr__tables__cache.html">bufr_tables_cache</a></div><div class="ttdoc">Struct to store the cache of structs bufr_tables.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00950">bufrdeco.h:951</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufrdeco_8h_source.html#l00341">BUFRDECO_TABLES_CACHE_SIZE</a>, and <a class="el" href="bufrdeco_8h_source.html#l00955">bufr_tables_cache::tab</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco_8c_source.html#l00259">bufrdeco_close()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_a554ec62c68ff48925248a2fa4a919b3f_icgraph.png" border="0" usemap="#abufrdeco__wmo_8c_a554ec62c68ff48925248a2fa4a919b3f_icgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_a554ec62c68ff48925248a2fa4a919b3f_icgraph" id="abufrdeco__wmo_8c_a554ec62c68ff48925248a2fa4a919b3f_icgraph">
<area shape="rect" title="deallocate and clean a bufr_tables_cache" alt="" coords="263,5,405,45"/>
<area shape="rect" href="bufrdeco_8c.html#a8fe6bc0c46327ed8db54b7a471f31504" title="Free all allocated memory. Needed when no more task to do with bufrdeco library." alt="" coords="104,13,215,38"/>
<area shape="rect" href="apps_2bufrdeco__json_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,13,56,38"/>
</map>
</div>

</div>
</div>
<a id="a9a6f68130c76bab155e074c2e98273ce" name="a9a6f68130c76bab155e074c2e98273ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6f68130c76bab155e074c2e98273ce">&#9670;&#160;</a></span>bufrdeco_store_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bufrdeco_store_tables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufr__tables.html">bufr_tables</a> **&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init an element of array c-&gt;tab[] if still not allocated. If allocated clean it and set *t pointing to this element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>pointer to array of struct <a class="el" href="structbufr__tables.html">bufr_tables</a> </td></tr>
    <tr><td class="paramname">c</td><td>pointer ti struct <a class="el" href="structbufr__tables__cache.html">bufr_tables_cache</a> </td></tr>
    <tr><td class="paramname">ver</td><td>version of tables acting as key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if success return 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00269">269</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  270</span>{</div>
<div class="line"><span class="lineno">  271</span>  <span class="keywordflow">if</span> ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a>] == NULL )</div>
<div class="line"><span class="lineno">  272</span>    {</div>
<div class="line"><span class="lineno">  273</span>      <span class="comment">// Init the array element</span></div>
<div class="line"><span class="lineno">  274</span>      <a class="code hl_function" href="bufrdeco_8h.html#a0576a87972353fb9e7a569fa1f905e03">bufrdeco_init_tables</a> ( &amp; ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a>] ) );</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>      <span class="comment">// increase the counter of allocated elements</span></div>
<div class="line"><span class="lineno">  277</span>      ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a2287ab87ca70f8e5de1ab15022d940cc">nt</a> )++;</div>
<div class="line"><span class="lineno">  278</span>    }</div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  280</span>    {</div>
<div class="line"><span class="lineno">  281</span>      <span class="comment">// Clean the element in array with zeroes</span></div>
<div class="line"><span class="lineno">  282</span>      memset ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a>], 0, sizeof ( <span class="keyword">struct</span> <a class="code hl_struct" href="structbufr__tables.html">bufr_tables</a> ) );</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>      <span class="comment">// sets the proper version as a key of element</span></div>
<div class="line"><span class="lineno">  285</span>      c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a04e1bec8b3f50a89b2f8eb0ab0027e1e">ver</a>[c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a>] = ver;</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>  <span class="comment">// t will point to array element</span></div>
<div class="line"><span class="lineno">  289</span>  *t = c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#a73973822a081c4a093aba594287314b3">tab</a>[c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a>];</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>  <span class="comment">// Set the member &#39;next&#39;. It marks the next element in array it will be modified when failing a search in future</span></div>
<div class="line"><span class="lineno">  292</span>  c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a> = ( c-&gt;<a class="code hl_variable" href="structbufr__tables__cache.html#acfad5a10753e341590d337d372a6d4e8">next</a> + 1 ) % <a class="code hl_define" href="bufrdeco_8h.html#a352c602cbe6ee66306075eef0ecd9863">BUFRDECO_TABLES_CACHE_SIZE</a>;</div>
<div class="line"><span class="lineno">  293</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  294</span>}</div>
<div class="ttc" id="astructbufr__tables__cache_html_a2287ab87ca70f8e5de1ab15022d940cc"><div class="ttname"><a href="structbufr__tables__cache.html#a2287ab87ca70f8e5de1ab15022d940cc">bufr_tables_cache::nt</a></div><div class="ttdeci">buf_t nt</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00952">bufrdeco.h:952</a></div></div>
<div class="ttc" id="astructbufr__tables_html"><div class="ttname"><a href="structbufr__tables.html">bufr_tables</a></div><div class="ttdoc">Contains all tables needed to parse a bufr file.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00937">bufrdeco.h:938</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufrdeco__memory_8c_source.html#l00032">bufrdeco_init_tables()</a>, <a class="el" href="bufrdeco_8h_source.html#l00341">BUFRDECO_TABLES_CACHE_SIZE</a>, <a class="el" href="bufrdeco_8h_source.html#l00953">bufr_tables_cache::next</a>, <a class="el" href="bufrdeco_8h_source.html#l00952">bufr_tables_cache::nt</a>, <a class="el" href="bufrdeco_8h_source.html#l00955">bufr_tables_cache::tab</a>, and <a class="el" href="bufrdeco_8h_source.html#l00954">bufr_tables_cache::ver</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco__wmo_8c_source.html#l00162">bufr_read_tables()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_cgraph.png" border="0" usemap="#abufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_cgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_cgraph" id="abufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_cgraph">
<area shape="rect" title="Init an element of array c&#45;&gt;tab[] if still not allocated. If allocated clean it and set *t pointing t..." alt="" coords="5,5,156,31"/>
<area shape="rect" href="bufrdeco__memory_8c.html#a0576a87972353fb9e7a569fa1f905e03" title="Init a struct bufr_tables allocating space." alt="" coords="204,5,343,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_icgraph.png" border="0" usemap="#abufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_icgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_icgraph" id="abufrdeco__wmo_8c_a9a6f68130c76bab155e074c2e98273ce_icgraph">
<area shape="rect" title="Init an element of array c&#45;&gt;tab[] if still not allocated. If allocated clean it and set *t pointing t..." alt="" coords="735,31,885,56"/>
<area shape="rect" href="bufrdeco__wmo_8c.html#a690c1bdb0a65ccaa1391f64ea8df2fc6" title="Read the tables according with bufr file data from a bufr table directory." alt="" coords="568,31,687,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#a42b3789e2ddabf25f894e78f59897268" title=" " alt="" coords="376,31,520,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#ad44753d6491d1785ed3fe38af6557da6" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_file()" alt="" coords="180,5,328,31"/>
<area shape="rect" href="bufrdeco__read_8c.html#ae3cfc6802c196511223adc0a6324e4af" title="Read bufr file and does preliminary and first decode pass." alt="" coords="187,55,321,80"/>
<area shape="rect" href="bufrdeco_8c.html#a429725844ceb27af702275748a444f2b" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_bufr()" alt="" coords="5,5,132,31"/>
<area shape="rect" href="apps_2bufrdeco__json_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="43,55,94,80"/>
</map>
</div>

</div>
</div>
<a id="a8581ce4806d095d950244b72411ad66d" name="a8581ce4806d095d950244b72411ad66d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8581ce4806d095d950244b72411ad66d">&#9670;&#160;</a></span>get_wmo_tablenames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_wmo_tablenames </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbufrdeco.html">bufrdeco</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the complete pathnames for WMO csv table files needed by a bufr message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>pointer for a struct <a class="el" href="structbufrdeco.html">bufrdeco</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if success return 0, otherwise 1</dd></dl>
<p>For WMO files this format is adopted BUFR_XX_Y_Z_TableB_en for table B BUFR_XX_Y_Z_CodeFlag for Code table and Flag table. This is equivalent to table C in ECMWF package BUFR_XX_Y_Z_TableD_en for table D</p>
<p >XX is the Version number of master table used Y is the revision (currently ignored) Z is minor revision (currently ignored) </p>

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00047">47</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>{</div>
<div class="line"><span class="lineno">   49</span>  <span class="keyword">struct </span>stat st;</div>
<div class="line"><span class="lineno">   50</span>  <span class="keywordtype">char</span> aux[<a class="code hl_define" href="bufrdeco_8h.html#a8d0527d51ed9aa220996a6761fd1311c">BUFRDECO_PATH_LENGTH</a> - 32];</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>  <a class="code hl_define" href="bufrdeco_8h.html#a142902ec0ad75f8ae60946f7e3065f42">bufrdeco_assert</a> ( b != NULL );</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>  <span class="keywordflow">if</span> ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab2c6f6f7063e6c1d6ef416ad3af75c02">bufrtables_dir</a>[0] == <span class="charliteral">&#39;\0&#39;</span> )</div>
<div class="line"><span class="lineno">   55</span>    {</div>
<div class="line"><span class="lineno">   56</span>      <span class="comment">// try to guess directory</span></div>
<div class="line"><span class="lineno">   57</span>      <span class="keywordflow">if</span> ( stat ( <a class="code hl_variable" href="bufrdeco__wmo_8c.html#aa41a183ce5c743d70b096ac76877611c">DEFAULT_BUFRTABLES_WMO_CSV_DIR1</a>, &amp;st ) )</div>
<div class="line"><span class="lineno">   58</span>        {</div>
<div class="line"><span class="lineno">   59</span>          <span class="keywordflow">if</span> ( stat ( <a class="code hl_variable" href="bufrdeco__wmo_8c.html#a22f9aa302b69b25a6c1581c6249b3832">DEFAULT_BUFRTABLES_WMO_CSV_DIR2</a>, &amp;st ) )</div>
<div class="line"><span class="lineno">   60</span>            {</div>
<div class="line"><span class="lineno">   61</span>              <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   62</span>            }</div>
<div class="line"><span class="lineno">   63</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   64</span>            {</div>
<div class="line"><span class="lineno">   65</span>              <span class="keywordflow">if</span> ( S_ISDIR ( st.st_mode ) )</div>
<div class="line"><span class="lineno">   66</span>                {</div>
<div class="line"><span class="lineno">   67</span>                  strcpy ( aux, <a class="code hl_variable" href="bufrdeco__wmo_8c.html#a22f9aa302b69b25a6c1581c6249b3832">DEFAULT_BUFRTABLES_WMO_CSV_DIR2</a> );</div>
<div class="line"><span class="lineno">   68</span>                }</div>
<div class="line"><span class="lineno">   69</span>            }</div>
<div class="line"><span class="lineno">   70</span>        }</div>
<div class="line"><span class="lineno">   71</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   72</span>        {</div>
<div class="line"><span class="lineno">   73</span>          <span class="keywordflow">if</span> ( S_ISDIR ( st.st_mode ) )</div>
<div class="line"><span class="lineno">   74</span>            {</div>
<div class="line"><span class="lineno">   75</span>              strcpy ( aux, <a class="code hl_variable" href="bufrdeco__wmo_8c.html#aa41a183ce5c743d70b096ac76877611c">DEFAULT_BUFRTABLES_WMO_CSV_DIR1</a> );</div>
<div class="line"><span class="lineno">   76</span>            }</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>    }</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   80</span>    {</div>
<div class="line"><span class="lineno">   81</span>      strcpy ( aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab2c6f6f7063e6c1d6ef416ad3af75c02">bufrtables_dir</a> );</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>  <span class="keywordflow">switch</span> ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> )</div>
<div class="line"><span class="lineno">   85</span>    {</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">case</span> 10:</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">case</span> 11:</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">case</span> 12:</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">case</span> 13:</div>
<div class="line"><span class="lineno">   96</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_13_0_0_TableB_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">   97</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_13_0_0_TableC_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">   98</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_13_0_0_TableD_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">   99</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">case</span> 18:</div>
<div class="line"><span class="lineno">  101</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_18_1_0_TableB_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  102</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_18_1_0_TableC_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  103</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_18_1_0_TableD_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  104</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">case</span> 19:</div>
<div class="line"><span class="lineno">  106</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_19_1_1_TableB_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  107</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_19_1_1_TableC_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  108</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_19_1_1_TableD_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  109</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">case</span> 22:</div>
<div class="line"><span class="lineno">  111</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_22_0_1_TableB_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  112</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_22_0_1_TableC_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  113</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_22_0_1_TableD_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  114</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">case</span> 14:</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">case</span> 15:</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">case</span> 17:</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">case</span> 20:</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">case</span> 21:</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">case</span> 23:</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">case</span> 24:</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">case</span> 25:</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">case</span> 26:</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">case</span> 27:</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">case</span> 28:</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">case</span> 29:</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">case</span> 30:</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">case</span> 31:</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">case</span> 32:</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">case</span> 33:</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">case</span> 34:</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">case</span> 35:</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">case</span> 36:</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">case</span> 37:</div>
<div class="line"><span class="lineno">  136</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_%d_0_0_TableB_en.csv&quot;</span>, aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  137</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_%d_0_0_TableC_en.csv&quot;</span>, aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  138</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_%d_0_0_TableD_en.csv&quot;</span>, aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  139</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">case</span> 38:</div>
<div class="line"><span class="lineno">  141</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_%d_1_0_TableB_en.csv&quot;</span>, aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  142</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_%d_1_0_TableC_en.csv&quot;</span>, aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  143</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_%d_1_0_TableD_en.csv&quot;</span>, aux, b-&gt;<a class="code hl_variable" href="structbufrdeco.html#af2d68974365e46b75886745133b7103f">sec1</a>.<a class="code hl_variable" href="structbufr__sec1.html#aa38d7bbeb038ad10fa20441ada9bfdaa">master_version</a> );</div>
<div class="line"><span class="lineno">  144</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  146</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a802b87d22571cb777fcb448f25f5b623">b</a>.<a class="code hl_variable" href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">path</a> ),<span class="stringliteral">&quot;%sBUFR_38_1_0_TableB_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  147</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">c</a>.<a class="code hl_variable" href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">path</a> ),<span class="stringliteral">&quot;%sBUFR_38_1_0_TableC_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  148</span>      snprintf ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a>, sizeof ( b-&gt;<a class="code hl_variable" href="structbufrdeco.html#ab14126b70642ce84fde7d0fbe37662da">tables</a>-&gt;<a class="code hl_variable" href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">d</a>.<a class="code hl_variable" href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">path</a> ),<span class="stringliteral">&quot;%sBUFR_38_1_0_TableD_en.csv&quot;</span>, aux );</div>
<div class="line"><span class="lineno">  149</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  150</span>    }</div>
<div class="line"><span class="lineno">  151</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  152</span>}</div>
<div class="ttc" id="abufrdeco_8h_html_a8d0527d51ed9aa220996a6761fd1311c"><div class="ttname"><a href="bufrdeco_8h.html#a8d0527d51ed9aa220996a6761fd1311c">BUFRDECO_PATH_LENGTH</a></div><div class="ttdeci">#define BUFRDECO_PATH_LENGTH</div><div class="ttdoc">Length for files/directory path strings.</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00335">bufrdeco.h:335</a></div></div>
<div class="ttc" id="abufrdeco__wmo_8c_html_a22f9aa302b69b25a6c1581c6249b3832"><div class="ttname"><a href="bufrdeco__wmo_8c.html#a22f9aa302b69b25a6c1581c6249b3832">DEFAULT_BUFRTABLES_WMO_CSV_DIR2</a></div><div class="ttdeci">const char DEFAULT_BUFRTABLES_WMO_CSV_DIR2[]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__wmo_8c_source.html#l00030">bufrdeco_wmo.c:30</a></div></div>
<div class="ttc" id="abufrdeco__wmo_8c_html_aa41a183ce5c743d70b096ac76877611c"><div class="ttname"><a href="bufrdeco__wmo_8c.html#aa41a183ce5c743d70b096ac76877611c">DEFAULT_BUFRTABLES_WMO_CSV_DIR1</a></div><div class="ttdeci">const char DEFAULT_BUFRTABLES_WMO_CSV_DIR1[]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco__wmo_8c_source.html#l00029">bufrdeco_wmo.c:29</a></div></div>
<div class="ttc" id="astructbufr__tableB_html_af2ac0d6955079122150628b094a479b7"><div class="ttname"><a href="structbufr__tableB.html#af2ac0d6955079122150628b094a479b7">bufr_tableB::path</a></div><div class="ttdeci">char path[BUFRDECO_PATH_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00861">bufrdeco.h:861</a></div></div>
<div class="ttc" id="astructbufr__tableC_html_a77936a786f6010b899a41eb1ac53844f"><div class="ttname"><a href="structbufr__tableC.html#a77936a786f6010b899a41eb1ac53844f">bufr_tableC::path</a></div><div class="ttdeci">char path[BUFRDECO_PATH_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00893">bufrdeco.h:893</a></div></div>
<div class="ttc" id="astructbufr__tableD_html_a2be18021a7777e2cbd7be79f583d0010"><div class="ttname"><a href="structbufr__tableD.html#a2be18021a7777e2cbd7be79f583d0010">bufr_tableD::path</a></div><div class="ttdeci">char path[BUFRDECO_PATH_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00922">bufrdeco.h:922</a></div></div>
<div class="ttc" id="astructbufr__tables_html_a3b639f317cb9812f366e6bf49a1892c9"><div class="ttname"><a href="structbufr__tables.html#a3b639f317cb9812f366e6bf49a1892c9">bufr_tables::d</a></div><div class="ttdeci">struct bufr_tableD d</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00941">bufrdeco.h:941</a></div></div>
<div class="ttc" id="astructbufr__tables_html_ab6a6c476d4d892759df77288fe2f33dd"><div class="ttname"><a href="structbufr__tables.html#ab6a6c476d4d892759df77288fe2f33dd">bufr_tables::c</a></div><div class="ttdeci">struct bufr_tableC c</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00940">bufrdeco.h:940</a></div></div>
<div class="ttc" id="astructbufrdeco_html_ab2c6f6f7063e6c1d6ef416ad3af75c02"><div class="ttname"><a href="structbufrdeco.html#ab2c6f6f7063e6c1d6ef416ad3af75c02">bufrdeco::bufrtables_dir</a></div><div class="ttdeci">char bufrtables_dir[BUFRDECO_PATH_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bufrdeco_8h_source.html#l00982">bufrdeco.h:982</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bufrdeco_8h_source.html#l00939">bufr_tables::b</a>, <a class="el" href="bufrdeco_8h_source.html#l00374">bufrdeco_assert</a>, <a class="el" href="bufrdeco_8h_source.html#l00335">BUFRDECO_PATH_LENGTH</a>, <a class="el" href="bufrdeco_8h_source.html#l00982">bufrdeco::bufrtables_dir</a>, <a class="el" href="bufrdeco_8h_source.html#l00940">bufr_tables::c</a>, <a class="el" href="bufrdeco_8h_source.html#l00941">bufr_tables::d</a>, <a class="el" href="bufrdeco__wmo_8c_source.html#l00029">DEFAULT_BUFRTABLES_WMO_CSV_DIR1</a>, <a class="el" href="bufrdeco__wmo_8c_source.html#l00030">DEFAULT_BUFRTABLES_WMO_CSV_DIR2</a>, <a class="el" href="bufrdeco_8h_source.html#l00782">bufr_sec1::master_version</a>, <a class="el" href="bufrdeco_8h_source.html#l00861">bufr_tableB::path</a>, <a class="el" href="bufrdeco_8h_source.html#l00893">bufr_tableC::path</a>, <a class="el" href="bufrdeco_8h_source.html#l00922">bufr_tableD::path</a>, <a class="el" href="bufrdeco_8h_source.html#l00969">bufrdeco::sec1</a>, and <a class="el" href="bufrdeco_8h_source.html#l00973">bufrdeco::tables</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco__wmo_8c_source.html#l00162">bufr_read_tables()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bufrdeco__wmo_8c_a8581ce4806d095d950244b72411ad66d_icgraph.png" border="0" usemap="#abufrdeco__wmo_8c_a8581ce4806d095d950244b72411ad66d_icgraph" alt=""/></div>
<map name="abufrdeco__wmo_8c_a8581ce4806d095d950244b72411ad66d_icgraph" id="abufrdeco__wmo_8c_a8581ce4806d095d950244b72411ad66d_icgraph">
<area shape="rect" title="Get the complete pathnames for WMO csv table files needed by a bufr message." alt="" coords="735,31,884,56"/>
<area shape="rect" href="bufrdeco__wmo_8c.html#a690c1bdb0a65ccaa1391f64ea8df2fc6" title="Read the tables according with bufr file data from a bufr table directory." alt="" coords="568,31,687,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#a42b3789e2ddabf25f894e78f59897268" title=" " alt="" coords="376,31,520,56"/>
<area shape="rect" href="bufrdeco__read_8c.html#ad44753d6491d1785ed3fe38af6557da6" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_file()" alt="" coords="180,5,328,31"/>
<area shape="rect" href="bufrdeco__read_8c.html#ae3cfc6802c196511223adc0a6324e4af" title="Read bufr file and does preliminary and first decode pass." alt="" coords="187,55,321,80"/>
<area shape="rect" href="bufrdeco_8c.html#a429725844ceb27af702275748a444f2b" title="Read file and try to find a bufr report inserted in. Once found do the same that bufrdeco_read_bufr()" alt="" coords="5,5,132,31"/>
<area shape="rect" href="apps_2bufrdeco__json_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="43,55,94,80"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa41a183ce5c743d70b096ac76877611c" name="aa41a183ce5c743d70b096ac76877611c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41a183ce5c743d70b096ac76877611c">&#9670;&#160;</a></span>DEFAULT_BUFRTABLES_WMO_CSV_DIR1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char DEFAULT_BUFRTABLES_WMO_CSV_DIR1[] = &quot;/usr/local/share/bufr2synop/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >And these are the default directories when using WMO csv table files </p>

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00029">29</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco__wmo_8c_source.html#l00047">get_wmo_tablenames()</a>.</p>

</div>
</div>
<a id="a22f9aa302b69b25a6c1581c6249b3832" name="a22f9aa302b69b25a6c1581c6249b3832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f9aa302b69b25a6c1581c6249b3832">&#9670;&#160;</a></span>DEFAULT_BUFRTABLES_WMO_CSV_DIR2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char DEFAULT_BUFRTABLES_WMO_CSV_DIR2[] = &quot;/usr/share/bufr2synop/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bufrdeco__wmo_8c_source.html#l00030">30</a> of file <a class="el" href="bufrdeco__wmo_8c_source.html">bufrdeco_wmo.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="bufrdeco__wmo_8c_source.html#l00047">get_wmo_tablenames()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
